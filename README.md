# CPPwhen
CPP early vs later
# CPP 손익분기점 시뮬레이터 (CPP Break-Even Simulator)

캐나다 연금 플랜(CPP)의 수령 시작 시점에 따른 재정적 유불리를 분석하는 웹 기반 시뮬레이터입니다. 두 개의 다른 시작 나이를 선택하여, 세후(After-tax) 기준의 누적 수령액과 기회비용을 비교하여 최적의 손익분기점을 찾아줍니다.

## 🚀 프로젝트 목적

CPP 수령 시점을 결정하는 것은 은퇴 계획의 매우 중요한 부분이지만, 단순히 월 수령액만으로 판단하기는 어렵습니다. 이 결정에는 다음과 같은 복합적인 요소들이 포함됩니다.

-   **기회비용**: 연금을 일찍 받아 투자했을 때의 잠재적 수익
-   **세금**: 다른 소득(OAS, 회사 연금 등)과 합산되었을 때의 누진세 효과
-   **정부 보조금**: OAS Clawback 및 GIS 수급 자격에 미치는 영향

이 시뮬레이터는 이러한 변수들을 종합적으로 고려하여, 사용자가 **실질적으로 손에 쥐는 세후 금액**을 기준으로 개인화된 데이터 기반의 의사결정을 내릴 수 있도록 돕는 것을 목표로 합니다.

## ✨ 주요 기능

-   **시나리오 비교**: 60세부터 70세 사이의 두 가지 CPP 시작 나이를 선택하여 비교 분석
-   **세후 소득 계산**: 연방 및 주(ON, BC, AB) 세금, 기본 공제(BPA), 노령 공제(Age Amount)를 적용하여 세후 소득을 정밀하게 계산
-   **종합 소득 모델링**: CPP, OAS (Clawback 포함), GIS 및 사용자가 직접 추가하는 기타 소득(예: 회사 연금)을 모두 포함
-   **기회비용 분석**: 먼저 받는 연금액을 특정 수익률로 투자했을 경우의 미래 가치를 '목표 금액'으로 설정하여 비교
-   **손익분기점 시각화**: 두 시나리오의 누적 가치가 교차하는 지점을 직관적인 차트로 시각화
-   **상세 데이터 제공**: 연도별 상세 계산 내역을 표로 제공하며, 결과를 CSV 파일로 내보내기 가능
-   **다크 모드 지원**: 사용자 편의를 위한 테마 전환 기능

## 🛠️ 시작하기

이 프로젝트는 별도의 서버나 빌드 과정 없이, 브라우저에서 바로 실행할 수 있습니다.

1.  프로젝트 파일을 다운로드합니다.
2.  `index.html` 파일을 웹 브라우저(Chrome, Firefox, Edge 등)에서 엽니다.
3.  화면에 나타난 입력 필드에 본인과 배우자의 정보, 기타 소득, 그리고 투자 수익률과 같은 주요 가정을 입력합니다.
4.  비교하고 싶은 '기준 나이'와 '비교 나이'를 선택합니다.
5.  **[손익분기점 분석 실행]** 버튼을 클릭하여 결과를 확인합니다.

## 💻 기술 스택

-   **Frontend**: HTML5, CSS3, JavaScript (ES6+)
-   **Charting Library**: [Chart.js](https://www.chartjs.org/)
-   **Architecture**: 100% Client-side 렌더링 (서버 없음)

## 📂 파일 구조

```
.
├── index.html       # 메인 UI 구조 (HTML)
├── style.css        # 웹 페이지 스타일 및 레이아웃 (CSS)
├── data.js          # 세금 구간, 정부 보조금 등 정적 데이터
├── engine.js        # 모든 재무 계산을 담당하는 핵심 로직 (The Brain)
├── ui.js            # 사용자 인터페이스 이벤트 처리 및 DOM 조작
└── README.md        # 프로젝트 설명 파일
```

## 📈 향후 개선 과제

-   **연금 소득 공제(Pension Income Credit) 정교화**: 현재 단순화된 세금 공제를 실제 연금 소득 종류에 따라 더 정확하게 계산
-   **몬테카를로 시뮬레이션 도입**: 확정된 투자 수익률 대신, 변동성을 가진 확률적 모델을 도입하여 더 현실적인 결과 범위 예측
-   **데이터 업데이트 용이성 개선**: 매년 변경되는 세금 및 정부 보조금 데이터를 외부 JSON 파일로 분리하여 쉽게 업데이트할 수 있도록 구조 변경
